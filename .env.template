# BrinChat Environment Configuration
# Copy this file to .env and fill in your values

# Server settings
APP_HOST=0.0.0.0
APP_PORT=8081

# Logging (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# Ollama API endpoint
OLLAMA_BASE_URL=http://localhost:11434

# Brave Search API key (for web search functionality)
# Get your API key at: https://brave.com/search/api/
BRAVE_SEARCH_API_KEY=your-brave-api-key-here

# Database settings (keeping peanutchat.db for backwards compatibility)
DATABASE_PATH=peanutchat.db

# JWT Authentication settings
# IMPORTANT: Change JWT_SECRET to a long random string in production!
JWT_SECRET=change-this-in-production-use-a-long-random-string
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=1440

# Knowledge Base settings
KB_EMBEDDING_MODEL=nomic-embed-text
KB_CHUNK_SIZE=512
KB_CHUNK_OVERLAP=50

# CORS origins (comma-separated, e.g., "http://localhost:8081,https://example.com")
CORS_ORIGINS=http://localhost:8081

# Cookie secure flag (set to true in production with HTTPS)
COOKIE_SECURE=false

# Hugging Face settings (for video generation)
# Get your API token at: https://huggingface.co/settings/tokens
HF_TOKEN=
VIDEO_GENERATION_SPACE=Heartsync/NSFW-Uncensored-video

# Adult content passcode (REQUIRED - app will not start without this)
# Set to a secure value - do not use the example value in production
ADULT_PASSCODE=change-this-to-secure-passcode

# =============================================================================
# Voice Features (TTS/STT)
# =============================================================================

# Enable voice features (default: false)
VOICE_ENABLED=false

# TTS Backend: edge, piper, coqui, kokoro
# - edge: Microsoft Edge TTS (free, online)
# - piper: Fast CPU-friendly TTS (offline)
# - coqui: High-quality neural TTS (GPU recommended)
# - kokoro: Japanese/English neural TTS
TTS_BACKEND=edge
TTS_MODEL=default

# STT Backend: whisper, faster_whisper, vosk
# - whisper: OpenAI Whisper (accurate, slower)
# - faster_whisper: CTranslate2 optimized Whisper (2-4x faster)
# - vosk: Lightweight offline STT
STT_BACKEND=faster_whisper
STT_MODEL=small

# =============================================================================
# Adult Mode (Omega + Lexi Stack)
# =============================================================================
# Each model can be configured separately for easy swapping/testing
# Run `ollama list` to see available models and their sizes
# Vision models (üëÅ) have "vl" or "vision" in their name

# --- Lexi: Main Conversation Model ---
# Uncensored chat model for adult mode conversations
# Recommended: taozhiyuai/llama-3-8b-lexi-uncensored or gurubot/self-after-dark
LEXI_MODEL=taozhiyuai/llama-3-8b-lexi-uncensored:v1_q8_0
LEXI_BASE_URL=http://localhost:11434

# --- Omega Tool Planner ---
# Decides which tool to use (image/video/search/none)
# Should be small and fast, doesn't need vision or uncensored
# Recommended: ministral-3 (6GB), qwen2.5-coder:3b (1.9GB)
OMEGA_TOOL_MODEL=ministral-3:latest
OMEGA_TOOL_BASE_URL=http://localhost:11434
OMEGA_TOOL_TIMEOUT=30

# --- Omega Vision ---
# Describes generated images for context injection to Lexi
# MUST have vision capabilities (models with "vl" or "vision")
# Recommended: huihui_ai/qwen3-vl-abliterated:4b (3.3GB, uncensored)
OMEGA_VISION_MODEL=huihui_ai/qwen3-vl-abliterated:4b
OMEGA_VISION_BASE_URL=http://localhost:11434
OMEGA_VISION_TIMEOUT=30

# Legacy aliases (for backward compatibility)
OMEGA_MODEL=${OMEGA_TOOL_MODEL}
OMEGA_BASE_URL=${OMEGA_TOOL_BASE_URL}
OMEGA_TIMEOUT=${OMEGA_TOOL_TIMEOUT}

# --- External APIs ---
# fal.ai API key for image/video generation
# Get your API key at: https://fal.ai
FAL_KEY=

# Nextcloud integration for file storage
NEXTCLOUD_URL=http://localhost:8080
NEXTCLOUD_USER=admin
NEXTCLOUD_PASS=
